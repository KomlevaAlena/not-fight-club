!function(){"use strict";function t(){const t=window.location.hostname,e=window.location.pathname;return"localhost"===t?e.includes("/pages/")?"../img/":"./img/":"/not-fight-club/docs/img/"}function e(t,e){t&&e&&("IMG"===t.tagName?t.src=e:t.innerHTML=`<img src="${e}" alt="avatar" class="character-avatar">`)}const n=function(){const t=window.location.hostname,e=window.location.pathname;return"localhost"===t?e.includes("/pages/")?"../img/":"./img/":"/not-fight-club/docs/img/"}();window.addEventListener("DOMContentLoaded",(()=>{if(document.getElementById("start-game-btn")&&function(){const t=document.getElementById("start-game-btn");t&&t.addEventListener("click",(()=>{window.open("./pages/home.html","_self")}))}(),document.getElementById("fight-btn")&&function(){const t=document.getElementById("fight-btn");t&&t.addEventListener("click",(()=>{window.open("./character.html","_self")}))}(),document.getElementById("to-attack-btn")&&function(){const t=document.getElementById("to-attack-btn");t&&t.addEventListener("click",(()=>{window.open("./battle.html","_self")}))}(),document.getElementById("avatar-btn")&&function(){const n=t(),a=Array.from({length:10},((t,e)=>`${n}war-${e+1}.jpg`)),o=document.createElement("div");o.className="avatar-modal",o.innerHTML='\n        <div class="modal-content">\n            <h3>Выберите аватар</h3>\n            <div class="avatar-grid"></div>\n            <button class="close-modal">close</button>\n        </div>\n    ',document.body.appendChild(o);const c=o.querySelector(".avatar-grid"),l=document.getElementById("current-avatar"),s=document.getElementById("avatar-btn"),r=localStorage.getItem("selectedAvatar");r&&e(l,r),a.forEach((t=>{const e=document.createElement("div");e.className="avatar-item",e.innerHTML=`<img src="${t}" alt="Аватар" data-src="${t}">`,c.appendChild(e)})),s&&s.addEventListener("click",(()=>o.style.display="block")),c.addEventListener("click",(t=>{if("IMG"===t.target.tagName){const n=t.target.dataset.src;e(l,n),localStorage.setItem("selectedAvatar",n),o.style.display="none"}}));const d=o.querySelector(".close-modal");d&&d.addEventListener("click",(()=>o.style.display="none")),o.addEventListener("click",(t=>{t.target===o&&(o.style.display="none")}))}(),function(){const n=t();e(document.getElementById("current-avatar"),localStorage.getItem("selectedAvatar")||`${n}war-1.jpg`)}(),document.getElementById("current-monster")){const t=function(){const t=document.getElementById("current-monster"),e=document.querySelector(".monster-info span");if(!t)return null;const a=function(){const t=[{avatar:`${n}monst-1.png`,name:"Demon",health:50,damage:10},{avatar:`${n}monst-2.png`,name:"Lich",health:100,damage:20},{avatar:`${n}monst-3.png`,name:"Medoosa",health:75,damage:15},{avatar:`${n}monst-4.png`,name:"Briliant golem",health:150,damage:15}];return t[Math.floor(Math.random()*t.length)]}();return t.src=a.avatar,t.alt=a.name,e&&(e.textContent=a.name),localStorage.setItem("currentMonster",JSON.stringify(a)),console.log("Появился монстр:",a.name),a}(),e=document.getElementById("battle-btn");e&&t&&e.addEventListener("click",(()=>{startBattle(t)}))}!function(){const t=document.getElementById("character-name"),e=document.getElementById("player-name"),n=localStorage.getItem("selectedName")||"Player";t&&(t.value=n),e&&(e.textContent=n),t&&t.addEventListener("input",(()=>{const n=t.value.trim()||"Player";localStorage.setItem("selectedName",n),e&&(e.textContent=n)}))}(),function(){const t=document.querySelectorAll(".seting__btn"),e=document.querySelectorAll(".seting__form-btn"),n=document.querySelector(".seting");t.forEach((t=>{t.addEventListener("click",(()=>{n.classList.toggle("seting--active"),document.body.classList.toggle("no-scroll")}))})),e.forEach((t=>{t.addEventListener("click",(()=>{n.classList.remove("seting--active"),document.body.classList.remove("no-scroll")}))})),document.addEventListener("keydown",(function(t){"Escape"===t.key&&n.classList.contains("seting--active")&&(n.classList.remove("seting--active"),document.body.classList.remove("no-scroll"))}))}()}))}();