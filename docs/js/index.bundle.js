!function(){"use strict";function t(t,e){t&&e&&("IMG"===t.tagName?t.src=e:t.innerHTML=`<img src="${e}" alt="avatar" class="character-avatar">`)}window.addEventListener("DOMContentLoaded",(()=>{if(document.getElementById("start-game-btn")&&function(){const t=document.getElementById("start-game-btn");t&&t.addEventListener("click",(()=>{window.open("./pages/home.html","_self")}))}(),document.getElementById("fight-btn")&&function(){const t=document.getElementById("fight-btn");t&&t.addEventListener("click",(()=>{window.open("./character.html","_self")}))}(),document.getElementById("to-attack-btn")&&function(){const t=document.getElementById("to-attack-btn");t&&t.addEventListener("click",(()=>{window.open("./battle.html","_self")}))}(),document.getElementById("avatar-btn")&&function(){const e=document.createElement("div");e.className="avatar-modal",e.innerHTML='\n        <div class="modal-content">\n            <h3>Выберите аватар</h3>\n            <div class="avatar-grid"></div>\n            <button class="close-modal">close</button>\n        </div>\n    ',document.body.appendChild(e);const n=e.querySelector(".avatar-grid"),a=document.getElementById("current-avatar"),c=document.getElementById("avatar-btn"),o=localStorage.getItem("selectedAvatar");o&&t(a,o),["/img/war-1.jpg","/img/war-2.jpg","/img/war-3.jpg","/img/war-4.jpg","/img/war-5.jpg","/img/war-6.jpg","/img/war-7.jpg","/img/war-8.jpg","/img/war-9.jpg","/img/war-10.jpg"].forEach((t=>{const e=document.createElement("div");e.className="avatar-item",e.innerHTML=`<img src="${t}" alt="Аватар" data-src="${t}">`,n.appendChild(e)})),c&&c.addEventListener("click",(()=>{e.style.display="block"})),n.addEventListener("click",(n=>{if("IMG"===n.target.tagName){const c=n.target.dataset.src;t(a,c),localStorage.setItem("selectedAvatar",c),e.style.display="none"}}));const r=e.querySelector(".close-modal");r&&r.addEventListener("click",(()=>{e.style.display="none"})),e.addEventListener("click",(t=>{t.target===e&&(e.style.display="none")}))}(),t(document.getElementById("current-avatar"),localStorage.getItem("selectedAvatar")||"/img/war-1.jpg"),document.getElementById("current-monster")){const t=function(){const t=document.getElementById("current-monster"),e=document.querySelector(".monster-info span");if(!t)return null;const n=function(){const t=[{avatar:"/img/monst-1.png",name:"Demon",health:50,damage:10},{avatar:"/img/monst-2.png",name:"Lich",health:100,damage:20},{avatar:"/img/monst-3.png",name:"Medoosa",health:75,damage:15},{avatar:"/img/monst-4.png",name:"Briliant golem",health:150,damage:15}];return t[Math.floor(Math.random()*t.length)]}();return t.src=n.avatar,t.alt=n.name,e&&(e.textContent=n.name),localStorage.setItem("currentMonster",JSON.stringify(n)),console.log("Появился монстр:",n.name),n}(),e=document.getElementById("battle-btn");e&&t&&e.addEventListener("click",(()=>{startBattle(t)}))}!function(){const t=document.getElementById("character-name"),e=document.getElementById("player-name"),n=localStorage.getItem("selectedName")||"Player";t&&(t.value=n),e&&(e.textContent=n),t&&t.addEventListener("input",(()=>{const n=t.value.trim()||"Player";localStorage.setItem("selectedName",n),e&&(e.textContent=n)}))}(),function(){const t=document.querySelectorAll(".seting__btn"),e=document.querySelectorAll(".seting__form-btn"),n=document.querySelector(".seting");t.forEach((t=>{t.addEventListener("click",(()=>{n.classList.toggle("seting--active"),document.body.classList.toggle("no-scroll")}))})),e.forEach((t=>{t.addEventListener("click",(()=>{n.classList.remove("seting--active"),document.body.classList.remove("no-scroll")}))})),document.addEventListener("keydown",(function(t){"Escape"===t.key&&n.classList.contains("seting--active")&&(n.classList.remove("seting--active"),document.body.classList.remove("no-scroll"))}))}()}))}();