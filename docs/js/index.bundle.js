!function(){"use strict";const t=(()=>{const t=window.location.hostname;return["localhost","127.0.0.1","::1"].includes(t)?"/img/":"/pages/img/"})();function e(t,e){t&&e&&("IMG"===t.tagName?t.src=e:t.innerHTML=`<img src="${e}" alt="avatar" class="character-avatar">`)}const n=(()=>{const t=window.location.hostname;return["localhost","127.0.0.1","::1"].includes(t)?"/img/":"/pages/img/"})();window.addEventListener("DOMContentLoaded",(()=>{if(document.getElementById("start-game-btn")&&function(){const t=document.getElementById("start-game-btn");t&&t.addEventListener("click",(()=>{window.open("./pages/home.html","_self")}))}(),document.getElementById("fight-btn")&&function(){const t=document.getElementById("fight-btn");t&&t.addEventListener("click",(()=>{window.open("./character.html","_self")}))}(),document.getElementById("to-attack-btn")&&function(){const t=document.getElementById("to-attack-btn");t&&t.addEventListener("click",(()=>{window.open("./battle.html","_self")}))}(),document.getElementById("avatar-btn")&&function(){const n=[`${t}war-1.jpg`,`${t}war-2.jpg`,`${t}war-3.jpg`,`${t}war-4.jpg`,`${t}war-5.jpg`,`${t}war-6.jpg`,`${t}war-7.jpg`,`${t}war-8.jpg`,`${t}war-9.jpg`,`${t}war-10.jpg`],a=document.createElement("div");a.className="avatar-modal",a.innerHTML='\n        <div class="modal-content">\n            <h3>Выберите аватар</h3>\n            <div class="avatar-grid"></div>\n            <button class="close-modal">close</button>\n        </div>\n    ',document.body.appendChild(a);const o=a.querySelector(".avatar-grid"),c=document.getElementById("current-avatar"),s=document.getElementById("avatar-btn"),l=localStorage.getItem("selectedAvatar");l&&e(c,l),n.forEach((t=>{const e=document.createElement("div");e.className="avatar-item",e.innerHTML=`<img src="${t}" alt="Аватар" data-src="${t}">`,o.appendChild(e)})),s&&s.addEventListener("click",(()=>{a.style.display="block"})),o.addEventListener("click",(t=>{if("IMG"===t.target.tagName){const n=t.target.dataset.src;e(c,n),localStorage.setItem("selectedAvatar",n),a.style.display="none"}}));const r=a.querySelector(".close-modal");r&&r.addEventListener("click",(()=>a.style.display="none")),a.addEventListener("click",(t=>{t.target===a&&(a.style.display="none")}))}(),e(document.getElementById("current-avatar"),localStorage.getItem("selectedAvatar")||`${t}war-1.jpg`),document.getElementById("current-monster")){const t=function(){const t=document.getElementById("current-monster"),e=document.querySelector(".monster-info span");if(!t)return null;const a=function(){const t=[{avatar:`${n}monst-1.png`,name:"Demon",health:50,damage:10},{avatar:`${n}monst-2.png`,name:"Lich",health:100,damage:20},{avatar:`${n}monst-3.png`,name:"Medoosa",health:75,damage:15},{avatar:`${n}monst-4.png`,name:"Briliant golem",health:150,damage:15}];return t[Math.floor(Math.random()*t.length)]}();return t.src=a.avatar,t.alt=a.name,e&&(e.textContent=a.name),localStorage.setItem("currentMonster",JSON.stringify(a)),console.log("Появился монстр:",a.name),a}(),e=document.getElementById("battle-btn");e&&t&&e.addEventListener("click",(()=>{startBattle(t)}))}!function(){const t=document.getElementById("character-name"),e=document.getElementById("player-name"),n=localStorage.getItem("selectedName")||"Player";t&&(t.value=n),e&&(e.textContent=n),t&&t.addEventListener("input",(()=>{const n=t.value.trim()||"Player";localStorage.setItem("selectedName",n),e&&(e.textContent=n)}))}(),function(){const t=document.querySelectorAll(".seting__btn"),e=document.querySelectorAll(".seting__form-btn"),n=document.querySelector(".seting");t.forEach((t=>{t.addEventListener("click",(()=>{n.classList.toggle("seting--active"),document.body.classList.toggle("no-scroll")}))})),e.forEach((t=>{t.addEventListener("click",(()=>{n.classList.remove("seting--active"),document.body.classList.remove("no-scroll")}))})),document.addEventListener("keydown",(function(t){"Escape"===t.key&&n.classList.contains("seting--active")&&(n.classList.remove("seting--active"),document.body.classList.remove("no-scroll"))}))}()}))}();